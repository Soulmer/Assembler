ORG 00H

MOV R0,#0
MOV R1,#2

CHECK1:
MOV P0,#11111111B
CLR P0.0
JB P0.4,CHECK2
MOV A,#1

CHECK2:
JB P0.5,CHECK3
MOV A,#2

CHECK3:
JB P0.6,CHECK4
MOV A,#3

CHECK4:
SETB P0.0
CLR P0.1
JB P0.4,CHECK5
MOV A,#4

CHECK5:
JB P0.5,CHECK6
MOV A,#5

CHECK6:
JB P0.6,CHECK7
MOV A,#6

CHECK7:
SETB P0.1
CLR P0.2
JB P0.4,CHECK8
MOV A,#7

CHECK8:
JB P0.5,CHECK9
MOV A,#8

CHECK9:
JB P0.6,CHECKNEXT
MOV A,#9

CHECKNEXT:
SETB P0.2
CLR P0.3
JB P0.5,CHECK1
MOV R0,A
MOV A,#0
JZ DECIDE

DECIDE:
DEC R1
MOV A,R1
JZ WRITE_2
LJMP WRITE_1

WRITE_1:
MOV B,R0
MOV A,B
MOV DPTR,#00010h
MOVX @DPTR,A
MOV A,#0
LJMP CHECK1

WRITE_2:
MOV A,R0
MOV DPTR,#00012h
MOVX @DPTR,A
ADD A,B
MOV DPTR,#00050h
MOV B,A
MOV R2,#176
LJMP RESULT

RESULT:
MOV A,B
MOVX @DPTR,A
INC DPTR
DEC R2
MOV A,R2
JNZ RESULT
END
